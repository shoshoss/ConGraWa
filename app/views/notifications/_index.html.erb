<%= turbo_frame_tag 'post_edit_modal' %>
<%= turbo_frame_tag 'profile_modal' %>
<div class="flex justify-center min-h-screen">
  <div class="max-w-xl w-full bg-white border-2 border-gray-200">
    <h1 class="text-center font-bold text-xl mt-2">通知</h1>
    <div class="c-tabs flex mb-2">
      <%= link_to notifications_path(category: 'unread'), data: { turbo_frame: "_top" }, class: "c-tab flex-1 #{active_tab_class('unread', initial_category: 'unread')} hover:bg-sky-100 text-center py-2" do %>
        未読
      <% end %>
      <%= link_to notifications_path(category: 'friends'), data: { turbo_frame: "_top" }, class: "c-tab flex-1 #{active_tab_class('friends', initial_category: 'unread')} hover:bg-sky-100 text-center py-2" do %>
        仲間から
      <% end %>
      <%= link_to notifications_path(category: 'likes_and_follows'), data: { turbo_frame: "_top" }, class: "c-tab flex-1 #{active_tab_class('likes_and_follows', initial_category: 'unread')} hover:bg-sky-100 text-center py-2" do %>
        いいねとフォロー
      <% end %>
    </div>

    <% if @notifications.present? %>
      <%= turbo_frame_tag "next-page" do %>
        <% @notifications.each do |notification| %>
          <%= render partial: 'notifications/notification', locals: { notification: notification } %>
        <% end %>
        <% if @pagy.next %>
          <%= render 'shared/next_page' %>
        <% end %>
      <% end %>
    <% else %>
      <div class="mb-3 text-center">
        通知がありません。
      </div>
    <% end %>
  </div>
</div>
